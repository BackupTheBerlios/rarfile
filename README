
rarfile - Rar archive reader for Python
=======================================

1.  Description
----------------

This is Python module for Rar archive reading.  The interface
is made as `zipfile` like as possible.

Features:

- Supports RAR 3.x archives.
- Supports multi volume archives.
- Supports Unicode filenames.
- Supports password-protected archives.
- Supports archive comments.
- Handles non-compressed files without outside help.
- For compressed files runs `unrar` utility.

Missing features:

- Decompression through unrarlib and/or unrar.dll.


2.  Module contents
--------------------

2.1.  is_rarfile(file)
~~~~~~~~~~~~~~~~~~~~~~

Returns true is `file` is Rar archive.


2.2.  class RarFile
~~~~~~~~~~~~~~~~~~~~

`RarFile(archive)`::
  Creates new RarFile instance and reads Rar directory from archive.

namelist()::
  Return list of filenames.

infolist()::
  Return list of RarInfo items.

getinfo(filename)::
  Returns a RarInfo instance for specific file.

open(filename)::
  Returns file-like handle from which the data can be read.

read(filename)::
  Read file contents.

close(filename)::
  Free open resources.  Currently it does nothing.

setpassword(psw)::
  Sets password to use on extracting.

needs_password()::
  Returns True if any archive entry requires password.

2.3.  class RarInfo
~~~~~~~~~~~~~~~~~~~~

filename::
	File name with relative path.
	Note that Rar uses "\" as directory separator.
	Always unicode string.

host_os::
	Host OS type.

file_size::
	Uncompressed size.

date_time::
	Tuple of year, month, day, hour, minute, second.

compress_size::
	Compressed size.

compress_type::
	Compression method: 0x30 - 0x35.

extract_version::
	Minimal Rar version needed for decompressing.

mode::
	File attributes. May be either dos-style or unix-style,
	depending on host_os.

CRC::
	CRC-32 of uncompressed file


3. History
----------

Version 2.0 (2010-04-29)
~~~~~~~~~~~~~~~~~~~~~~~~

Features::
 * Python 3 support.  Still works with 2.x.
 * Parses extended time fields. (.mtime, .ctime, .atime)
 * .open() method.  This makes possible to process large
   entries that do not fit into memory.
 * Supports password-protected archives.
 * Supports archive comments.

Cleanups::
 * Uses subprocess module to launch unrar.
 * .filename is always Unicode string, .unicode_filename is now deprecated.
 * .CRC is unsigned again, as python3 crc32() is unsigned.

Version 1.1 (2008-08-31)
~~~~~~~~~~~~~~~~~~~~~~~~

Fixes::
 * Replace os.tempnam() with tempfile.mkstemp().  (Jason Moiron)
 * Fix infinite loop in _extract_hack on unexpected EOF
 * RarInfo.CRC is now signed value to match crc32()
 * RarFile.read() now checks file crc

Cleanups::
 * more docstrings
 * throw proper exceptions (subclasses of rarfile.Error)
 * RarInfo has fields pre-initialized, so they appear in help()
 * rename RarInfo.data to RarInfo.header_data
 * dont use "print" when header parsing fails
 * use try/finally to delete temp rar

Version 1.0 (2005-08-08)
~~~~~~~~~~~~~~~~~~~~~~~~

 * First release.

